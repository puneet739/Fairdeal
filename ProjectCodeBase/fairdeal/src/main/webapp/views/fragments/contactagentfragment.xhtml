<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:ui="http://java.sun.com/jsf/facelets" xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:p="http://primefaces.org/ui" xmlns:f="http://java.sun.com/jsf/core">


	<div id="contact" class="modal__content">
		<f:metadata>
			<f:viewParam name="agentid" value="#{userquery.agentId}" />
		</f:metadata>
		<h:outputScript library="js" name="application.js" />
		<div>
			<f:viewParam name="agentId" value="#{userquery.agentId}" />
			<h:form id="contactagentform">
				<div class="allocation-agent dialog">
					<header>
						<h1 class="dialog__header">Work exclusively with</h1>
					</header>
					<div class="dialog__content allocation">
						<table class="agent__infocard">
							<tbody>
								<tr>
									<td width="35%"><img src="/userimage/#{agentaction.agent.mainImageUrl}" class="allocation-info-card__image" /></td>
									<td class="agent__information">
										<div class="agent__name">#{agentaction.agent.firstname} #{agentaction.agent.lastname}</div>
										<div class="agent__title">Licensed Real Estate Salesperson</div>
									</td>
								</tr>
							</tbody>
						</table>


						<div class="agent__input__phone field-group field-group--discreet layout-clearfix">
							<p:inputText id="name" value="#{userquery.firstName}" placeholder="Your Name" required="true" />
							<p:messages id="name_m" autoUpdate="true" for="name" />
						</div>

						<div class="agent__input__phone field-group field-group--discreet layout-clearfix">
							<p:inputText id="phone" value="#{userquery.userContactNumber}" placeholder="Your Phone number" required="true" />
							<p:messages id="phone_m" autoUpdate="true" for="phone" />
						</div>


						<div class="field-group--discreet layout-clearfix">
							<p:inputTextarea id="message" value="#{userquery.optionalMessage}" placeholder="Optional message #{agent.id}" rows="7" required="true" />
							<p:messages id="message_m" autoUpdate="true" for="message" />
						</div>

					</div>

					<footer class="dialog__footer">
						<p:commandButton styleClass="button button--primary" id="allocation-agent-submit" action="#{queryaction.doSubmit(userquery)}" value="Confirm"
							ajax="true">
							<f:setPropertyActionListener target="#{userquery.agentId}" value="#{agent.id}" />
						</p:commandButton>
					</footer>
				</div>
			</h:form>
		</div>
	</div>
</ui:composition>